<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <script type='text/javascript' src='widgets.js'></script>
    <script type='text/javascript' src='jquery-3.2.1.min.js'></script>
    <style type='text/css'>
      @font-face {
        font-family: fontNormal;
        font-weight:normal;
        font-style:normal;
        font-variant:normal;
        src: url(https://s3.eu-central-1.amazonaws.com/mareedeslettres/ArialMonospacedMTPro.ttf);
      }
      @font-face {
        font-family: fontBold;
        src: url(https://s3.eu-central-1.amazonaws.com/mareedeslettres/ArialMonospacedMTPro-Bld.ttf);
      }
      body, html {
        margin: 0;
        padding: 0;
        font-family: fontNormal;
      }
      .timeline-Widget {
        width: 100% !important;
        max-width: 100% !important;
      }
      .hidden {
        opacity: 0;
      }
      #timeline {
        padding-top: 1vh;
        height: 100vh;
      }
      .timeline-Widget {
        width: 100%;
      }
      .timeline-Body {
        border-top: none;
        border-bottom: none;
      }
      .timeline-Tweetlist-tweet {
        padding: 10px 15px 5px 15px;
        border-bottom: 1px solid black;
      }
      .timeline-Tweet {
        padding: 0;
        /*position: relative;*/
      }
      .timeline-Tweet:hover {
        background-color: transparent;
      }
      .timeline-Tweet-text {
        float: left;
        width: 100%;
      }
      .timeline-Tweet-metadata {
        position: relative;
        top: 3px; 
      }
      abbr, abbr[title] {
        text-decoration: none;
      }
      .timeline-Tweetlist-name {
        font-family: fontBold;
      }
      .timeline-LoadMore-prompt {
        border: none;
        font-family: fontNormal;
        text-transform: uppercase;
        border-radius: 0;
      }
      .timeline-Tweet-actions {
        display: none;
      }
      .timeline-ShowMoreButton--edge {
        color: #8899A6;
        width: 100% !important;
        padding: 20px;
        margin-bottom: 30px;
      }
      .timeline-ShowMoreButton--edge:focus, .timeline-ShowMoreButton--edge:hover {
        background-color: transparent;
        color: #8899A6
      }
      a {
        color: #4D4D7B;
      }
      a:hover {
        color: rgb(245,132,102);
      }
      .Icon--retweetBadge {
        display: none;
      }
      .NaturalImage--rounded .NaturalImage-image, .NaturalImage--roundedTop .NaturalImage-image {
        border-radius: 0px;
      }
    </style>
  </head>
  <body>
    <div id='timeline' class='hidden'></div>

    <script type='text/javascript'>
      
      var TWITTER_HANDLE = "mareedeslettres";
      
      var getTimeline = function() {
          // pull timeline from twitter
          twttr.widgets.createTimeline(
            {
              sourceType: 'profile',
              screenName: TWITTER_HANDLE
            },
            document.getElementById('timeline'),
            {}
          ).then(function(el){
            parseTweets(el);
          });
      };

      var parseTweets = function(iframe) {
        // reformat and inject stuff
        var $doc = $(iframe.contentDocument),
          styles = document.getElementsByTagName('style'),
          head = iframe.contentDocument.getElementsByTagName('head')[0];
          
        // inherit styles from document (allow custom styles)
        for (var i = 0; i < styles.length; i++) {
            console.log(styles[i]);
            head.appendChild(styles[i].cloneNode(true));
        }

        $doc.find('.timeline-Footer').remove();
        $doc.find('.timeline-Header').remove();

        // swap tweets to #timeline, reveal
        $(iframe.contentDocument.body).find('.timeline-Tweetlist').html($('#content').html());
        $('#timeline').removeClass('hidden');

      }

      window.onload = function() {
        getTimeline();
      };
    </script>
  </body>
</html>
